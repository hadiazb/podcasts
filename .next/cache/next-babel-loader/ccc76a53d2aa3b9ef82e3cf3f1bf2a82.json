{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastListWithClick from '../components/PodcastListWithClick';\nimport PodcastPlayer from '../components/PodcastPlayer';\nimport Error from './_error';\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  var _super = _createSuper(_default);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"openPodcast\", function (event, podcast) {\n      if (event.metaKey || event.ctrlKey || event.shiftKey || event.nativeEvent && event.nativeEvent.which === 2) {\n        // Si está haciendo Ctrl+Click o Cmd+Click, dejamos que el click suceda normalmente\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePodcast\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: null\n      });\n    });\n\n    _this.state = {\n      openPodcast: null\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audioClips = _this$props.audioClips,\n          series = _this$props.series,\n          statusCode = _this$props.statusCode;\n      var openPodcast = this.state.openPodcast;\n\n      if (statusCode !== 200) {\n        return __jsx(Error, {\n          statusCode: statusCode\n        });\n      }\n\n      return __jsx(Layout, {\n        title: channel.title\n      }, openPodcast && __jsx(PodcastPlayer, {\n        clip: openPodcast,\n        onClose: this.closePodcast\n      }), __jsx(\"div\", {\n        style: {\n          backgroundImage: \"url(\".concat(channel.urls.banner_image.original, \")\")\n        },\n        className: \"jsx-1546675339\" + \" \" + 'banner'\n      }), __jsx(\"h1\", {\n        className: \"jsx-1546675339\"\n      }, channel.title), series.length > 0 && __jsx(\"div\", {\n        className: \"jsx-1546675339\"\n      }, __jsx(\"h2\", {\n        className: \"jsx-1546675339\"\n      }, \"Series\"), __jsx(ChannelGrid, {\n        channels: series\n      })), __jsx(\"h2\", {\n        className: \"jsx-1546675339\"\n      }, \"Ultimos Podcasts\"), __jsx(PodcastListWithClick, {\n        podcasts: audioClips,\n        onClickPodcast: this.openPodcast\n      }), __jsx(_JSXStyle, {\n        id: \"1546675339\"\n      }, \".banner.jsx-1546675339{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#aaa;}h1.jsx-1546675339{font-weight:600;padding:15px;}h2.jsx-1546675339{padding:15px;font-size:1.2em;font-weight:600;margin:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FzdXMvRG9jdW1lbnRvcy9wcm9ncmFtYWNpw7NuL2N1cnNvTmV4dC9wb2RjYXN0cy9wYWdlcy9jaGFubmVsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1JZ0IsQUFHa0IsQUFPSyxBQUlILFdBVk0sRUFXSCxHQUpILGFBQ2QsQUFJaUIsQ0FYWSxlQVluQixTQUNWLElBWnVCLHNCQUNBLHNCQUN2QiIsImZpbGUiOiIvaG9tZS9hc3VzL0RvY3VtZW50b3MvcHJvZ3JhbWFjacOzbi9jdXJzb05leHQvcG9kY2FzdHMvcGFnZXMvY2hhbm5lbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnaXNvbW9ycGhpYy1mZXRjaCc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCBDaGFubmVsR3JpZCBmcm9tICcuLi9jb21wb25lbnRzL0NoYW5uZWxHcmlkJztcbmltcG9ydCBQb2RjYXN0TGlzdFdpdGhDbGljayBmcm9tICcuLi9jb21wb25lbnRzL1BvZGNhc3RMaXN0V2l0aENsaWNrJztcbmltcG9ydCBQb2RjYXN0UGxheWVyIGZyb20gJy4uL2NvbXBvbmVudHMvUG9kY2FzdFBsYXllcic7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi9fZXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMuc3RhdGUgPSB7IG9wZW5Qb2RjYXN0OiBudWxsIH07XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnksIHJlcyB9KSB7XG5cdFx0bGV0IGlkQ2hhbm5lbCA9IHF1ZXJ5LmlkO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGxldCBbXG5cdFx0XHRcdHJlcUNoYW5uZWwsXG5cdFx0XHRcdHJlcVNlcmllcyxcblx0XHRcdFx0cmVxQXVkaW9zLFxuXHRcdFx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdFx0ZmV0Y2goXG5cdFx0XHRcdFx0YGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9YFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRmZXRjaChcblx0XHRcdFx0XHRgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH0vY2hpbGRfY2hhbm5lbHNgXG5cdFx0XHRcdCksXG5cdFx0XHRcdGZldGNoKFxuXHRcdFx0XHRcdGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfS9hdWRpb19jbGlwc2Bcblx0XHRcdFx0KSxcblx0XHRcdF0pO1xuXG5cdFx0XHRpZiAocmVxQ2hhbm5lbC5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdHJlcy5zdGF0dXNDb2RlID0gcmVxQ2hhbm5lbC5zdGF0dXM7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y2hhbm5lbDogbnVsbCxcblx0XHRcdFx0XHRhdWRpb0NsaXBzOiBudWxsLFxuXHRcdFx0XHRcdHNlcmllczogbnVsbCxcblx0XHRcdFx0XHRzdGF0dXNDb2RlOiByZXFDaGFubmVsLnN0YXR1cyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGRhdGFDaGFubmVsID0gYXdhaXQgcmVxQ2hhbm5lbC5qc29uKCk7XG5cdFx0XHRsZXQgY2hhbm5lbCA9IGRhdGFDaGFubmVsLmJvZHkuY2hhbm5lbDtcblxuXHRcdFx0bGV0IGRhdGFBdWRpb3MgPSBhd2FpdCByZXFBdWRpb3MuanNvbigpO1xuXHRcdFx0bGV0IGF1ZGlvQ2xpcHMgPSBkYXRhQXVkaW9zLmJvZHkuYXVkaW9fY2xpcHM7XG5cblx0XHRcdGxldCBkYXRhU2VyaWVzID0gYXdhaXQgcmVxU2VyaWVzLmpzb24oKTtcblx0XHRcdGxldCBzZXJpZXMgPSBkYXRhU2VyaWVzLmJvZHkuY2hhbm5lbHM7XG5cblx0XHRcdHJldHVybiB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZTogMjAwIH07XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y2hhbm5lbDogbnVsbCxcblx0XHRcdFx0YXVkaW9DbGlwczogbnVsbCxcblx0XHRcdFx0c2VyaWVzOiBudWxsLFxuXHRcdFx0XHRzdGF0dXNDb2RlOiA1MDMsXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdG9wZW5Qb2RjYXN0ID0gKGV2ZW50LCBwb2RjYXN0KSA9PiB7XG5cdFx0aWYgKFxuXHRcdFx0ZXZlbnQubWV0YUtleSB8fFxuXHRcdFx0ZXZlbnQuY3RybEtleSB8fFxuXHRcdFx0ZXZlbnQuc2hpZnRLZXkgfHxcblx0XHRcdChldmVudC5uYXRpdmVFdmVudCAmJiBldmVudC5uYXRpdmVFdmVudC53aGljaCA9PT0gMilcblx0XHQpIHtcblx0XHRcdC8vIFNpIGVzdMOhIGhhY2llbmRvIEN0cmwrQ2xpY2sgbyBDbWQrQ2xpY2ssIGRlamFtb3MgcXVlIGVsIGNsaWNrIHN1Y2VkYSBub3JtYWxtZW50ZVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRvcGVuUG9kY2FzdDogcG9kY2FzdCxcblx0XHR9KTtcblx0fTtcblxuXHRjbG9zZVBvZGNhc3QgPSAoZXZlbnQpID0+IHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0b3BlblBvZGNhc3Q6IG51bGwsXG5cdFx0fSk7XG5cdH07XG5cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGNoYW5uZWwsXG5cdFx0XHRhdWRpb0NsaXBzLFxuXHRcdFx0c2VyaWVzLFxuXHRcdFx0c3RhdHVzQ29kZSxcblx0XHR9ID0gdGhpcy5wcm9wcztcblx0XHRjb25zdCB7IG9wZW5Qb2RjYXN0IH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKHN0YXR1c0NvZGUgIT09IDIwMCkge1xuXHRcdFx0cmV0dXJuIDxFcnJvciBzdGF0dXNDb2RlPXtzdGF0dXNDb2RlfSAvPjtcblx0XHR9XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PExheW91dCB0aXRsZT17Y2hhbm5lbC50aXRsZX0+XG5cdFx0XHRcdHtvcGVuUG9kY2FzdCAmJiAoXG5cdFx0XHRcdFx0PFBvZGNhc3RQbGF5ZXJcblx0XHRcdFx0XHRcdGNsaXA9e29wZW5Qb2RjYXN0fVxuXHRcdFx0XHRcdFx0b25DbG9zZT17dGhpcy5jbG9zZVBvZGNhc3R9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0KX1cblxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdiYW5uZXInXG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdGJhY2tncm91bmRJbWFnZTogYHVybCgke2NoYW5uZWwudXJscy5iYW5uZXJfaW1hZ2Uub3JpZ2luYWx9KWAsXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0Lz5cblxuXHRcdFx0XHQ8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cblxuXHRcdFx0XHR7c2VyaWVzLmxlbmd0aCA+IDAgJiYgKFxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQ8aDI+U2VyaWVzPC9oMj5cblx0XHRcdFx0XHRcdDxDaGFubmVsR3JpZCBjaGFubmVscz17c2VyaWVzfSAvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQpfVxuXG5cdFx0XHRcdDxoMj5VbHRpbW9zIFBvZGNhc3RzPC9oMj5cblx0XHRcdFx0PFBvZGNhc3RMaXN0V2l0aENsaWNrXG5cdFx0XHRcdFx0cG9kY2FzdHM9e2F1ZGlvQ2xpcHN9XG5cdFx0XHRcdFx0b25DbGlja1BvZGNhc3Q9e3RoaXMub3BlblBvZGNhc3R9XG5cdFx0XHRcdC8+XG5cblx0XHRcdFx0PHN0eWxlIGpzeD57YFxuXHRcdFx0XHRcdC5iYW5uZXIge1xuXHRcdFx0XHRcdFx0d2lkdGg6IDEwMCU7XG5cdFx0XHRcdFx0XHRwYWRkaW5nLWJvdHRvbTogMjUlO1xuXHRcdFx0XHRcdFx0YmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRoMSB7XG5cdFx0XHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xuXHRcdFx0XHRcdFx0cGFkZGluZzogMTVweDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aDIge1xuXHRcdFx0XHRcdFx0cGFkZGluZzogMTVweDtcblx0XHRcdFx0XHRcdGZvbnQtc2l6ZTogMS4yZW07XG5cdFx0XHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xuXHRcdFx0XHRcdFx0bWFyZ2luOiAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0YH08L3N0eWxlPlxuXHRcdFx0PC9MYXlvdXQ+XG5cdFx0KTtcblx0fVxufVxuIl19 */\\n/*@ sourceURL=/home/asus/Documentos/programaci\\xF3n/cursoNext/podcasts/pages/channel.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var query, res, idChannel, _yield$Promise$all, _yield$Promise$all2, reqChannel, reqSeries, reqAudios, dataChannel, channel, dataAudios, audioClips, dataSeries, series;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query, res = _ref.res;\n                idChannel = query.id;\n                _context.prev = 2;\n                _context.next = 5;\n                return Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(idChannel)), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/child_channels\")), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/audio_clips\"))]);\n\n              case 5:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                reqChannel = _yield$Promise$all2[0];\n                reqSeries = _yield$Promise$all2[1];\n                reqAudios = _yield$Promise$all2[2];\n\n                if (!(reqChannel.status >= 400)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                res.statusCode = reqChannel.status;\n                return _context.abrupt(\"return\", {\n                  channel: null,\n                  audioClips: null,\n                  series: null,\n                  statusCode: reqChannel.status\n                });\n\n              case 13:\n                _context.next = 15;\n                return reqChannel.json();\n\n              case 15:\n                dataChannel = _context.sent;\n                channel = dataChannel.body.channel;\n                _context.next = 19;\n                return reqAudios.json();\n\n              case 19:\n                dataAudios = _context.sent;\n                audioClips = dataAudios.body.audio_clips;\n                _context.next = 23;\n                return reqSeries.json();\n\n              case 23:\n                dataSeries = _context.sent;\n                series = dataSeries.body.channels;\n                return _context.abrupt(\"return\", {\n                  channel: channel,\n                  audioClips: audioClips,\n                  series: series,\n                  statusCode: 200\n                });\n\n              case 28:\n                _context.prev = 28;\n                _context.t0 = _context[\"catch\"](2);\n                return _context.abrupt(\"return\", {\n                  channel: null,\n                  audioClips: null,\n                  series: null,\n                  statusCode: 503\n                });\n\n              case 31:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 28]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/asus/Documentos/programación/cursoNext/podcasts/pages/channel.js"],"names":["Layout","ChannelGrid","PodcastListWithClick","PodcastPlayer","Error","props","event","podcast","metaKey","ctrlKey","shiftKey","nativeEvent","which","preventDefault","setState","openPodcast","state","channel","audioClips","series","statusCode","title","closePodcast","backgroundImage","urls","banner_image","original","length","query","res","idChannel","id","Promise","all","fetch","reqChannel","reqSeries","reqAudios","status","json","dataChannel","body","dataAudios","audio_clips","dataSeries","channels","React","Component"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastListWithClick from '../components/PodcastListWithClick';\nimport PodcastPlayer from '../components/PodcastPlayer';\nimport Error from './_error';\n\nexport default class extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { openPodcast: null };\n\t}\n\n\tstatic async getInitialProps({ query, res }) {\n\t\tlet idChannel = query.id;\n\n\t\ttry {\n\t\t\tlet [\n\t\t\t\treqChannel,\n\t\t\t\treqSeries,\n\t\t\t\treqAudios,\n\t\t\t] = await Promise.all([\n\t\t\t\tfetch(\n\t\t\t\t\t`https://api.audioboom.com/channels/${idChannel}`\n\t\t\t\t),\n\t\t\t\tfetch(\n\t\t\t\t\t`https://api.audioboom.com/channels/${idChannel}/child_channels`\n\t\t\t\t),\n\t\t\t\tfetch(\n\t\t\t\t\t`https://api.audioboom.com/channels/${idChannel}/audio_clips`\n\t\t\t\t),\n\t\t\t]);\n\n\t\t\tif (reqChannel.status >= 400) {\n\t\t\t\tres.statusCode = reqChannel.status;\n\t\t\t\treturn {\n\t\t\t\t\tchannel: null,\n\t\t\t\t\taudioClips: null,\n\t\t\t\t\tseries: null,\n\t\t\t\t\tstatusCode: reqChannel.status,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet dataChannel = await reqChannel.json();\n\t\t\tlet channel = dataChannel.body.channel;\n\n\t\t\tlet dataAudios = await reqAudios.json();\n\t\t\tlet audioClips = dataAudios.body.audio_clips;\n\n\t\t\tlet dataSeries = await reqSeries.json();\n\t\t\tlet series = dataSeries.body.channels;\n\n\t\t\treturn { channel, audioClips, series, statusCode: 200 };\n\t\t} catch (e) {\n\t\t\treturn {\n\t\t\t\tchannel: null,\n\t\t\t\taudioClips: null,\n\t\t\t\tseries: null,\n\t\t\t\tstatusCode: 503,\n\t\t\t};\n\t\t}\n\t}\n\n\topenPodcast = (event, podcast) => {\n\t\tif (\n\t\t\tevent.metaKey ||\n\t\t\tevent.ctrlKey ||\n\t\t\tevent.shiftKey ||\n\t\t\t(event.nativeEvent && event.nativeEvent.which === 2)\n\t\t) {\n\t\t\t// Si está haciendo Ctrl+Click o Cmd+Click, dejamos que el click suceda normalmente\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis.setState({\n\t\t\topenPodcast: podcast,\n\t\t});\n\t};\n\n\tclosePodcast = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.setState({\n\t\t\topenPodcast: null,\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tchannel,\n\t\t\taudioClips,\n\t\t\tseries,\n\t\t\tstatusCode,\n\t\t} = this.props;\n\t\tconst { openPodcast } = this.state;\n\n\t\tif (statusCode !== 200) {\n\t\t\treturn <Error statusCode={statusCode} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout title={channel.title}>\n\t\t\t\t{openPodcast && (\n\t\t\t\t\t<PodcastPlayer\n\t\t\t\t\t\tclip={openPodcast}\n\t\t\t\t\t\tonClose={this.closePodcast}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<div\n\t\t\t\t\tclassName='banner'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: `url(${channel.urls.banner_image.original})`,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<h1>{channel.title}</h1>\n\n\t\t\t\t{series.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>Series</h2>\n\t\t\t\t\t\t<ChannelGrid channels={series} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<h2>Ultimos Podcasts</h2>\n\t\t\t\t<PodcastListWithClick\n\t\t\t\t\tpodcasts={audioClips}\n\t\t\t\t\tonClickPodcast={this.openPodcast}\n\t\t\t\t/>\n\n\t\t\t\t<style jsx>{`\n\t\t\t\t\t.banner {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding-bottom: 25%;\n\t\t\t\t\t\tbackground-position: 50% 50%;\n\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t\tbackground-color: #aaa;\n\t\t\t\t\t}\n\t\t\t\t\th1 {\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\tpadding: 15px;\n\t\t\t\t\t}\n\t\t\t\t\th2 {\n\t\t\t\t\t\tpadding: 15px;\n\t\t\t\t\t\tfont-size: 1.2em;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t}\n\t\t\t\t`}</style>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}